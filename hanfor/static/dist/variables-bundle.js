!function(e){function a(a){for(var r,o,s=a[0],i=a[1],c=a[2],u=0,d=[];u<s.length;u++)o=s[u],l[o]&&d.push(l[o][0]),l[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(_&&_(a);d.length;)d.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,a=0;a<n.length;a++){for(var t=n[a],r=!0,s=1;s<t.length;s++){var i=t[s];0!==l[i]&&(r=!1)}r&&(n.splice(a--,1),e=o(o.s=t[0]))}return e}var r={},l={3:0},n=[];function o(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,a){if(1&a&&(e=o(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)o.d(t,r,function(a){return e[a]}.bind(null,r));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=a,s=s.slice();for(var c=0;c<s.length;c++)a(s[c]);var _=i;n.push([214,0]),t()}({214:function(e,a,t){(function(e){t(19),t(12),t(18),t(17),t(152),t(16),t(15);let a=sessionStorage.getItem("var_search_string");var r=["CONST"];function l(a){!0===a?e("#variable_value_form_group").hide():e("#variable_value_form_group").show()}function n(a,t=!1){let r=e("body");r.LoadingOverlay("show");let l=e("#multi-change-type-input").val().trim(),n=[];a.rows({selected:!0}).every(function(){let e=this.data();n.push(e.name)}),e.post("api/var/multi_update",{change_type:l,selected_vars:JSON.stringify(n),del:t},function(e){r.LoadingOverlay("hide",!0),!1===e.success?alert(e.errormsg):location.reload()})}e(document).ready(function(){variables_table=e("#variables_table"),tags_datatable=variables_table.DataTable({paging:!0,stateSave:!0,select:{style:"os",selector:"td:first-child"},pageLength:50,responsive:!0,lengthMenu:[[10,50,100,500,-1],[10,50,100,500,"All"]],dom:'rt<"container"<"row"<"col-md-6"li><"col-md-6"p>>>',ajax:"api/var/gets",deferRender:!0,columns:[{orderable:!1,className:"select-checkbox",targets:[0],data:null,defaultContent:""},{data:"name",targets:[1],render:function(e,a,t,r){return result='<a class="modal-opener" href="#">'+e+"</span></br>",result}},{data:"type",targets:[2],render:function(e,a,t,l){return null!==e&&r.indexOf(e)<=-1&&r.push(e),null!==e&&"CONST"===e&&(e=e+" ("+t.const_val+")"),e}},{data:"used_by",targets:[3],render:function(a,t,r,l){return result="",e(a).each(function(e,a){a.length>0&&(search_query="?command=search&col=2&q="+a,result+='<span class="badge badge-info"><a href="'+base_url+search_query+'" target="_blank">'+a+"</a></span>")}),result.length<1&&(result+='<span class="badge badge-warning"><a href="#">Not used</a></span></br>'),result}},{data:"used_by",targets:[4],visible:!1,searchable:!1,render:function(a,t,r,l){return result="",e(a).each(function(e,a){a.length>0&&(result.length>1&&(result+=", "),result+=a)}),result}}],initComplete:function(){e("#search_bar").val(a)}}),tags_datatable.column(3).visible(!0),tags_datatable.column(4).visible(!1),e("#search_bar").keyup(function(){tags_datatable.search(e(this).val()).draw(),sessionStorage.setItem("var_search_string",e(this).val())}),variables_table.find("tbody").on("click","a.modal-opener",function(a){a.preventDefault();var t=tags_datatable.row(e(a.target).parent()).data(),n=tags_datatable.row(e(a.target).parent()).index();tag_modal_content=e(".modal-content"),e("#variable_value_form_group").hide(),e("#variable_modal").modal("show"),e("#modal_associated_row_index").val(n),e("#variable_name_old").val(t.name),e("#variable_type_old").val(t.type),e("#occurences").val(t.used_by),e("#variable_modal_title").html("Variable: "+t.name),e("#variable_name").val(t.name),type_input=e("#variable_type"),type_input.val(t.type),"CONST"===t.type?(l(),e("#variable_value").val(t.const_val),e("#variable_value_old").val(t.const_val)):(e("#variable_value").val(""),e("#variable_value_old").val("")),type_input.autocomplete({minLength:0,source:r}).on("focus",function(){e(this).keydown()}),tag_modal_content.LoadingOverlay("hide")}),e("#save_variable_modal").click(function(){tags_datatable,tag_modal_content=e(".modal-content"),tag_modal_content.LoadingOverlay("show"),var_name=e("#variable_name").val(),var_name_old=e("#variable_name_old").val(),var_type=e("#variable_type").val(),var_type_old=e("#variable_type_old").val(),associated_row_id=parseInt(e("#modal_associated_row_index").val()),occurences=e("#occurences").val(),const_val=e("#variable_value").val(),const_val_old=e("#variable_value_old").val(),null!==var_type&&r.indexOf(var_type)<=-1&&r.push(var_type),e.post("api/var/update",{name:var_name,name_old:var_name_old,type:var_type,const_val:const_val,const_val_old:const_val_old,type_old:var_type_old,occurences:occurences},function(a){tag_modal_content.LoadingOverlay("hide",!0),!1===a.success?alert(a.errormsg):a.rebuild_table?location.reload():(tags_datatable.row(associated_row_id).data(a.data).draw(),e("#variable_modal").modal("hide"))})}),e("#variable_type").on("keyup change autocompleteclose",function(){"CONST"===e(this).val()?l():l(revert=!0)}),e(".import_link").on("click",function(){!function(a,t){let r=e("#variable_import_modal");e("#variable_import_sess_name").val(a),e("#variable_import_sess_revision").val(t),e("#variable_import_modal_title").html("Import from Session: "+a+" at: "+t),r.modal("show"),r.LoadingOverlay("show"),e.post("api/var/var_import_info",{sess_name:a,sess_revision:t},function(a){r.LoadingOverlay("hide",!0),!1===a.success?alert(a.errormsg):(e("#import_tot_number").html("Total:\t"+a.tot_vars+" Variables."),e("#import_new_number").html("New:\t"+a.new_vars+" Variables."))})}(e(this).attr("data-name"),e(this).attr("data-revision"))}),e("#save_variable_import_modal").click(function(a){!function(){let a=e("#variable_import_modal"),t=e("#variable_import_sess_name").val(),r=e("#variable_import_sess_revision").val(),l=e("#import_option").val();a.LoadingOverlay("show"),e.post("api/var/var_import_collection",{sess_name:t,sess_revision:r,import_option:l},function(e){a.LoadingOverlay("hide",!0),!1===e.success?alert(e.errormsg):(a.modal("hide"),location.reload())})}()}),e(".select-all-button").on("click",function(a){e(this).hasClass("btn-secondary")?tags_datatable.rows({page:"current"}).select():tags_datatable.rows({page:"current"}).deselect(),e(".select-all-button").toggleClass("btn-secondary btn-primary")}),tags_datatable.on("user-select",function(){let a=e(".select-all-button");a.removeClass("btn-primary"),a.addClass("btn-secondary ")}),e("#multi-change-type-input").autocomplete({minLength:0,source:r,delay:100}).on("focus",function(){e(this).keydown()}).val(""),e(".apply-multi-edit").click(function(){n(tags_datatable)}),e(".delete_button").confirmation({rootSelector:".delete_button"}).click(function(){n(tags_datatable,del=!0)})})}).call(this,t(3))}});